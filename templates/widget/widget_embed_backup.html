<!-- Floating Chatbot Widget - Embeddable Component -->
<div id="ai-chatbot-widget-container" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;">
    <div id="chatbot-toggle-btn" style="width: 60px; height: 60px; border-radius: 50%; background: {{ primary_color }}; color: white; border: none; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; justify-content: center; font-size: 24px; transition: all 0.3s;">
        <span class="material-symbols-outlined">chat</span>
    </div>
    
    <div id="chatbot-window" style="display: none; position: absolute; bottom: 80px; right: 0; width: 380px; max-width: calc(100vw - 40px); height: 600px; max-height: calc(100vh - 100px); background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); flex-direction: column; overflow: hidden;">
        <div style="background: {{ primary_color }}; color: white; padding: 20px; display: flex; align-items: center; justify-content: space-between;">
            <div style="display: flex; align-items: center; gap: 12px;">
                <div style="width: 40px; height: 40px; border-radius: 50%; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center;">
                    <span class="material-symbols-outlined" style="font-size: 24px;">smart_toy</span>
                </div>
                <div>
                    <div style="font-weight: 600; font-size: 16px;">{{ bot_name }}</div>
                    <div style="font-size: 12px; opacity: 0.9;">Online</div>
                </div>
            </div>
            <button id="chatbot-close-btn" style="background: rgba(255,255,255,0.2); border: none; color: white; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                <span class="material-symbols-outlined" style="font-size: 20px;">close</span>
            </button>
        </div>
        
        <div id="chatbot-messages" style="flex: 1; overflow-y: auto; padding: 20px; background: #f9fafb;">
            <div style="background: white; padding: 12px 16px; border-radius: 12px; margin-bottom: 12px; max-width: 80%;">
                <div style="font-size: 14px; color: #18181b;">ðŸ‘‹ Hi! I'm {{ bot_name }}. How can I help you today?</div>
            </div>
        </div>
        
        <div style="padding: 16px; background: white; border-top: 1px solid #e4e4e7;">
            <div style="display: flex; gap: 8px;">
                <input type="text" id="chatbot-input" placeholder="Type your message..." style="flex: 1; padding: 12px 16px; border: 1px solid #e4e4e7; border-radius: 24px; font-size: 14px; outline: none;">
                <button id="chatbot-send-btn" style="width: 44px; height: 44px; border-radius: 50%; background: {{ primary_color }}; color: white; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                    <span class="material-symbols-outlined" style="font-size: 20px;">send</span>
                </button>
            </div>
        </div>
    </div>
</div>

<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">

